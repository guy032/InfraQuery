kind: source
spec:
  name: aws
  path: cloudquery/aws
  registry: cloudquery
  version: "v32.46.1"
  tables: ["*"]
  skip_tables:
    - aws_cloudtrail_events
    - aws_cloudwatchlogs_log_streams
    - aws_docdb_cluster_parameter_groups
    - aws_docdb_engine_versions
    - aws_ec2_instance_types
    - aws_ec2_vpc_endpoint_services
    - aws_elasticache_engine_versions
    - aws_elasticache_parameter_groups
    - aws_elasticache_reserved_cache_nodes_offerings
    - aws_elasticache_service_updates
    - aws_elasticbeanstalk_platform_versions
    - aws_elasticsearch_versions
    - aws_emr_release_labels
    - aws_emr_supported_instance_types
    - aws_iam_group_last_accessed_details
    - aws_iam_policy_last_accessed_details
    - aws_iam_role_last_accessed_details
    - aws_iam_user_last_accessed_details
    - aws_neptune_cluster_parameter_groups
    - aws_neptune_db_parameter_groups
    - aws_rds_cluster_parameter_groups
    - aws_rds_db_parameter_groups
    - aws_rds_engine_versions
    - aws_servicequotas_quota_utilizations
    - aws_servicequotas_services
    - aws_stepfunctions_map_run_executions
    - aws_stepfunctions_map_runs
  destinations: ["postgresql"]
  spec: {}
---
kind: destination
spec:
  name: postgresql
  path: cloudquery/postgresql
  registry: cloudquery
  version: "v8.12.2"
  write_mode: "overwrite-delete-stale"
  send_sync_summary: true
  spec:
    connection_string: "${POSTGRESQL_CONNECTION_STRING}"
    # Optionally set log level or other advanced options here
